<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>私立蒼星学園 学生専用ポータル</title>
    <!-- Tailwind CSS (デザイン用) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM (プログラムの本体) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel (ブラウザでJSXを動かすための変換ツール) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Google Fonts (フォント) -->
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=Noto+Serif+JP:wght@700&display=swap"
        rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
        }

        .font-serif {
            font-family: 'Noto Serif JP', serif;
        }

        @keyframes fade-in-up {
            0% {
                opacity: 0;
                transform: translateY(10px);
            }

            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in-up {
            animation: fade-in-up 0.3s ease-out forwards;
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-5px);
            }

            75% {
                transform: translateX(5px);
            }
        }

        .animate-shake {
            animation: shake 0.3s ease-in-out;
        }

        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }

        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>

<body class="bg-slate-50 text-slate-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // =================================================================
        // ★★★ ニュース更新エリア ★★★
        // =================================================================

        const NEWS_DATA = [
            {
                id: 98,
                date: '20XX.10.01',
                category: '学食',
                title: '【学食】10月メニューのお知らせ',
                summary: '大食堂「ギャラクシー」の10月メニューをお知らせします。',
                content: `
                    <p>大食堂「ギャラクシー」より、10月の基本メニューおよび限定メニューをお知らせします。全寮制の皆さんの健康を考え、今月から野菜メニューも大幅に拡充しました。</p>
                    
                    <h4 class="font-bold mt-6 mb-2 text-green-700 border-b border-green-200 pb-1">■ 野菜・ヘルシーメニュー</h4>
                    <ul class="list-disc list-inside text-slate-700 mb-4 space-y-1">
                        <li><strong>サラダボウル：</strong> 15品目の彩りサラダボウル（全粒粉パン付き）</li>
                        <li><strong>温野菜：</strong> 季節の温野菜蒸し 胡麻ドレッシング</li>
                        <li><strong>汁物：</strong> 根菜たっぷり特製豚汁定食</li>
                    </ul>

                    <h4 class="font-bold mt-6 mb-2 text-blue-700 border-b border-blue-200 pb-1">■ 和風メニュー</h4>
                    <ul class="list-disc list-inside text-slate-700 mb-4 space-y-1">
                        <li><strong>定食：</strong> 鯖のみぞれ煮定食 / 具だくさん肉じゃが定食</li>
                        <li><strong>麺類：</strong> 盆地野菜たっぷり山菜うどん・そば</li>
                        <li><strong>小鉢：</strong> ほうれん草のおひたし / 出汁巻き卵 / 冷奴</li>
                    </ul>

                    <h4 class="font-bold mt-6 mb-2 text-red-700 border-b border-red-200 pb-1">■ 洋風メニュー</h4>
                    <ul class="list-disc list-inside text-slate-700 mb-4 space-y-1">
                        <li><strong>A定食：</strong> 日替わりハンバーグプレート（ライス・スープ付き）</li>
                        <li><strong>定番：</strong> とろとろオムライス デミグラスソース / チキン南蛮プレート</li>
                        <li><strong>カレー：</strong> 蒼星特製ビーフカツカレー</li>
                    </ul>

                    <h4 class="font-bold mt-6 mb-2 text-yellow-700 border-b border-yellow-200 pb-1">■ 中華メニュー</h4>
                    <ul class="list-disc list-inside text-slate-700 mb-4 space-y-1">
                        <li><strong>定食：</strong> 本格四川風 麻婆豆腐定食 / サクサク油淋鶏定食</li>
                        <li><strong>麺類：</strong> ギャラクシー醤油ラーメン / 濃厚担々麺</li>
                        <li><strong>セット：</strong> 五目チャーハンと春巻きセット</li>
                    </ul>

                    <h4 class="font-bold mt-6 mb-2 text-orange-600 border-b border-orange-200 pb-1">■ 10月限定「秋の味覚フェア」</h4>
                    <p class="text-sm text-slate-600 mb-2">学園周辺の山々で収穫された新鮮な食材を使用しています。</p>
                    <ul class="list-disc list-inside text-slate-700 mb-4 space-y-1">
                        <li><strong>秋の味覚定食：</strong> 栗ご飯とサンマの塩焼きセット</li>
                        <li><strong>パスタ：</strong> 特製キノコクリームパスタ</li>
                        <li><strong>限定デザート：</strong> さつまいもパフェ（寮生リクエストで復活！）</li>
                    </ul>

                    <h4 class="font-bold mt-6 mb-2 text-purple-700 border-b border-purple-200 pb-1">■ 【学生限定】特別裏メニュー</h4>
                    <ul class="list-disc list-inside text-slate-700 space-y-1">
                        <li><strong>メガ盛りマロンパフェ：</strong> 450円（スターコイン利用可）</li>
                    </ul>
                    <p class="text-xs text-slate-500 mt-2">※裏メニューの注文には学生証の提示が必要です。通常の3倍サイズのため、食べ残し厳禁です。</p>
                `,
                tags: ['学食', 'メニュー', '期間限定'],
                important: false,
            },
            {
                id: 99,
                date: '20XX.10.16',
                category: 'オカルト研',
                title: '【部員急募】旧校舎「開かずの扉」の謎に迫る！深夜調査隊募集',
                summary: 'きたる満月の夜、我がオカルト研究会は長年の謎とされる旧校舎3階の調査を決行する。勇気ある同士を求む。',
                content: `
                    <p>オカルト研究会 部長より</p>
                    <p>学園七不思議の一つ、「旧校舎3階の開かずの扉」。</p>
                    <p>深夜2時にノックすると内側から返事が返ってくるという噂の真偽を確かめるべく、合同調査隊を結成します。</p>
                    <p>興味のある生徒は放課後、部室棟4階の部室まで。塩と懐中電灯持参のこと。</p>
                    <p class="text-xs text-slate-400 mt-2">※生徒会には内密にお願いします。</p>
                `,
                tags: ['部員募集', '怪談', '非公式'],
                important: false,
            },
            {
                id: 1,
                date: '20XX.10.15',
                category: '号外',
                title: '【学生新聞部】高等部３年に転校生が来るのでは？との噂',
                summary: '季節外れの転校生情報をキャッチ。なんと高等部3年生への編入との噂。詳細を追跡中。',
                content: `
                    <p>我が新聞部では、極秘情報を入手。</p>
                    <p>なんと、この秋も深まる季節、高等部３年に転校生が来るのでは？との噂。</p>
                    <p>通常、受験期であるこの時期の転入は異例中の異例。海外からの帰国子女か、はたまた特殊な事情を持つ生徒なのか。</p>
                    <p>教職員の間でも箝口令が敷かれている模様。続報を待て。</p>
                `,
                tags: ['号外', '学生新聞部', '必読'],
                important: false,
            },
            {
                id: 20,
                date: '20XX.10.14',
                category: '落とし物',
                title: '【謎】右足だけのローファーが大量に届けられています',
                summary: '現在、事務室に「右足だけのローファー（男子用）」が計8足届けられています。心当たりのある生徒は申し出てください。',
                content: `
                    <p>事務室より、奇妙な落とし物のお知らせです。</p>
                    <p>先週金曜日から本日朝にかけて、男子用ローファーの「右足側」ばかりが学園内のあちこちで発見され、届けられています。</p>
                    <p>サイズはバラバラ（25.0cm〜28.0cm）で、いずれも記名がありません。</p>
                    <p>イタズラにしては手が込んでいます。自分の靴が片方なくなっている生徒はいませんか？</p>
                `,
                tags: ['落とし物', '不審', 'ミステリー'],
                important: true,
            },
            {
                id: 21,
                date: '20XX.10.14',
                category: '園芸部',
                title: '裏庭の「おばけカボチャ」が見頃です（絶対に食べないでください）',
                summary: '園芸部が丹精込めて育てたハロウィン用の巨大カボチャが収穫期を迎えました。鑑賞は自由ですが、持ち出し厳禁です。',
                content: `
                    <p>園芸部です！</p>
                    <p>今年も裏庭の畑で、直径1メートルを超える巨大カボチャ「ジャック」の育成に成功しました。</p>
                    <p>品種改良の過程で少し毒々しい紫色になってしまいましたが、観賞用としては迫力満点です。</p>
                    <p><strong>注意：</strong>非常に苦く、お腹を壊す成分が含まれている可能性があります。絶対に味見をしないでください（特にラグビー部の諸君）。</p>
                `,
                tags: ['園芸部', 'ハロウィン', '植物'],
                important: false,
            },
            {
                id: 22,
                date: '20XX.10.13',
                category: '演劇部',
                title: '【緊急】舞台衣装の「血塗れのエプロン」を探しています',
                summary: '文化祭公演で使用する小道具が紛失しました。リアルな血糊がついているため、発見者が驚かないようご注意ください。',
                content: `
                    <p>演劇部より捜索のお願い。</p>
                    <p>次回の公演で使用する衣装「血塗れのエプロン（※演出用）」が行方不明になっています。</p>
                    <p>昨日、中庭で乾かしていたところ風に飛ばされた可能性があります。</p>
                    <p>見た目が非常に猟奇的ですが、付着しているのは絵の具とケチャップです。事件現場ではありませんので、発見しても通報せず、演劇部まで届けてください。</p>
                `,
                tags: ['演劇部', '探し物', '誤解注意'],
                important: false,
            },
            {
                id: 23,
                date: '20XX.10.13',
                category: '噂',
                title: '【投稿】夜のプールから奇妙な歌声？',
                summary: '学生掲示板より抜粋。「昨晩、閉鎖中の屋外プールから女性の歌声が聞こえた」という投稿が話題になっています。',
                content: `
                    <p>（このニュースは「学生の噂」コーナーからの転載です）</p>
                    <p><strong>投稿者：匿名希望（寮生）</strong></p>
                    <p>「昨日の深夜1時頃、トイレに起きたときに窓の外を見たら、水が抜かれているはずの屋外プールに人影が見えました。</p>
                    <p>よく見えなかったけど、すごく綺麗な、でも悲しそうな歌声が聞こえたんです。今朝見に行ったら、プールの底に濡れた足跡が点々と…」</p>
                    <p>※夜間のプール立ち入りは禁止されています。肝試し等は行わないように。</p>
                `,
                tags: ['怪談', '七不思議', '噂'],
                important: false,
            },
            {
                id: 2,
                date: '20XX.10.12',
                category: '重要',
                title: '【寮生必読】冬季期間の門限変更と暖房点検スケジュール（詳細版）',
                summary: '11月1日より門限が変更されます。また、各部屋の暖房点検立ち入り日時を確認し、不在時は寮長へ鍵を預けてください。',
                content: `
                    <p>寮務委員会より、全寮生へ。</p>
                    <p>日没が早まる冬季期間中の安全確保のため、門限変更および暖房点検を実施します。</p>
                    <div class="bg-red-50 border border-red-200 p-4 rounded my-4">
                        <h4 class="font-bold text-red-700 mb-2">冬季門限（11/1〜2/28）</h4>
                        <ul class="list-disc list-inside text-red-800">
                            <li>中等部：17:30（厳守）</li>
                            <li>高等部：18:30（厳守）</li>
                        </ul>
                    </div>
                    <p>※1分でも遅れる場合は必ず事前に舎監へ連絡すること。無断遅刻は外出禁止処分の対象となります。</p>
                `,
                tags: ['学生寮', '生活指導', '規律'],
                important: true,
            },
            {
                id: 24,
                date: '20XX.10.11',
                category: '保健室',
                title: 'インフルエンザ予防接種の予約開始について',
                summary: '今年はワクチンの数に限りがあります。寮生は原則全員接種ですが、希望日時がある場合は早めに予約してください。',
                content: `
                    <p>保健室の佐々木です。</p>
                    <p>インフルエンザ予防接種の季節がやってきました。集団生活を送る寮生は、感染拡大防止のため原則全員接種となります。</p>
                    <p>痛くないように打つよう努力はしますが、叫ぶと余計に痛いですよ。</p>
                    <p>なお、注射が苦手で逃亡する生徒（特に運動部）が例年見受けられますが、最後まで追いかけますので観念してください。</p>
                `,
                tags: ['保健室', '予防接種', '強制イベント'],
                important: false,
            },
            {
                id: 11,
                date: '20XX.10.10',
                category: '生物部',
                title: '【捜索願】実験用のウシガエル「ケロべロス」が脱走しました',
                summary: '部室の水槽清掃中にウシガエル（体長約15cm）が脱走しました。見つけた方は触らずに生物部までご連絡ください。',
                content: `
                    <p>生物部からのお願いです。</p>
                    <p>飼育中のウシガエル「ケロべロス」（3歳・オス）が部室から脱走しました。</p>
                    <p>特徴：非常に大きく、動きが素早い。名前を呼んでも来ません。</p>
                    <p>現在、女子寮方面へ向かったとの目撃情報があります。もし見かけた場合は、決して捕まえようとせず（噛みます）、直ちに生物部顧問または部員までご一報ください。</p>
                    <p class="font-bold text-red-600">※食堂のおばちゃんに見つかると唐揚げにされる恐れがあるため、至急の確保が必要です。</p>
                `,
                tags: ['生物部', '捜索願', '緊急'],
                important: true,
            },
            {
                id: 25,
                date: '20XX.10.09',
                category: '文芸部',
                title: '部誌『星屑パレード』第108号 発行のお知らせ',
                summary: '特集は「学園の地下迷宮伝説」。古くから伝わる地下通路の噂を徹底検証した力作です。',
                content: `
                    <p>文芸部です。秋の部誌が完成しました。</p>
                    <p>今回の目玉記事は、部長渾身のルポルタージュ『検証・学園の地下に眠る迷宮』です。</p>
                    <p>「図書館の地下書庫には隠し扉がある」「ボイラー室の奥から風が吹いてくる」など、学園に伝わる地下通路の伝説を多角的に考察しました。</p>
                    <p>各教室および図書室にて無料配布中。数に限りがありますのでお早めに。</p>
                `,
                tags: ['文芸部', '出版', '都市伝説'],
                important: false,
            },
            {
                id: 3,
                date: '20XX.10.08',
                category: 'イベント',
                title: '第58回「蒼星祭」クラス企画・有志団体の最終申請について',
                summary: '文化祭の企画書提出期限は今週金曜日までです。電源使用届、火気使用届も忘れずに生徒会室へ提出してください。',
                content: `
                    <p>蒼星祭実行委員会です。</p>
                    <p>クラス展示、模擬店、有志ステージの企画書最終締切が迫っています。</p>
                    <h4 class="font-bold mt-4 mb-2">提出期限</h4>
                    <p>10月11日（金） 17:00 生徒会室必着</p>
                    <p>期限を過ぎた場合、いかなる理由があっても出展は認められません。不備がないか早めに確認をお願いします。</p>
                `,
                tags: ['文化祭', '生徒会', '提出物'],
                important: false,
            },
            {
                id: 26,
                date: '20XX.10.07',
                category: '美術部',
                title: '写生大会の優秀賞作品展示と「動く肖像画」の噂について',
                summary: '先日の写生大会の入賞作品をエントランスホールに展示中です。なお、夜中に絵が動く等の苦情は受け付けておりません。',
                content: `
                    <p>美術部顧問です。</p>
                    <p>エントランスホールにて、秋の写生大会の優秀作品を展示しています。</p>
                    <p>特に金賞を受賞した3年C組・月島さんの『見つめる瞳』は、見る角度によって表情が変わって見えると評判の傑作です。</p>
                    <p>一部の生徒から「夜中に見たら目が合った」「瞬きをした」等の報告が寄せられていますが、それは素晴らしい芸術作品が持つ迫力による錯覚です。怖がらずに鑑賞してください。</p>
                `,
                tags: ['美術部', '展示', '錯覚'],
                important: false,
            },
            {
                id: 12,
                date: '20XX.10.05',
                category: '風紀',
                title: '【注意喚起】廊下での「スライディング登校」および校内でのキックボード使用について',
                summary: '最近、遅刻ギリギリに廊下を滑り込んで教室へ入る生徒が多発しています。大変危険ですのでやめましょう。',
                content: `
                    <p>風紀委員会より。</p>
                    <p>始業チャイムと同時に教室へ滑り込む、いわゆる「スライディング登校」による怪我人が先週だけで3名出ています。</p>
                    <p>上履きの摩擦熱で床が焦げる等の被害も報告されています。余裕を持って登校してください。</p>
                    <p>また、広大な敷地移動のためにキックボードやセグウェイを持ち込む生徒がいますが、校舎内は全面車両通行禁止です。見つけ次第没収します。</p>
                `,
                tags: ['生活指導', '風紀', '禁止事項'],
                important: false,
            },
            {
                id: 4,
                date: '20XX.10.01',
                category: '学食',
                title: '【学食】10月限定「秋の味覚フェア」裏メニューのお知らせ',
                summary: '学生証提示で注文できる「メガ盛りマロンパフェ」が登場。数量限定のため、食券購入はお早めに。',
                content: `
                    <p>大食堂「ギャラクシー」店長より、腹ペコな諸君へ。</p>
                    <p>一般向けの秋メニューに加え、学生専用の裏メニューを用意しました。</p>
                    <h4 class="font-bold mt-4 mb-2">【学生限定】メガ盛りマロンパフェ</h4>
                    <p>価格：450円（スターコイン利用可）</p>
                    <p>通常の3倍のサツマイモと栗を使用した特大サイズです。挑戦者求む。</p>
                    <p>※注文時に学生証を提示してください。</p>
                    <p>※授業中の居眠りの原因にならないよう、食べ過ぎには注意すること。</p>
                `,
                tags: ['学食', '限定メニュー', '福利厚生'],
                important: false,
            },
            {
                id: 27,
                date: '20XX.09.29',
                category: '化学部',
                title: '実験室のボヤ騒ぎに関するお詫び',
                summary: '昨日放課後、第二理科室にて発生した異臭および煙について、近隣の部活動にご迷惑をおかけしました。',
                content: `
                    <p>化学部 部長</p>
                    <p>昨日、部活動中に「七色に光る煙幕」を作成する実験を行っていたところ、調合を誤り大量の煙が発生しました。</p>
                    <p>煙は無害ですが、フルーツポンチのような甘ったるい匂いが数日間残る可能性があります。</p>
                    <p>隣の教室を使用している将棋部の皆さん、集中を乱してしまい大変申し訳ありませんでした。</p>
                `,
                tags: ['化学部', '事故', 'お詫び'],
                important: false,
            },
            {
                id: 13,
                date: '20XX.09.30',
                category: '放送部',
                title: 'お昼の放送「Sousei Radio」リクエスト募集！テーマ『失恋した時に聴きたい曲』',
                summary: '来週のランチタイム放送のテーマが決まりました。エピソードと共にリクエスト箱へ投函してください。',
                content: `
                    <p>放送部です！</p>
                    <p>大好評のお昼の放送、来週のテーマは「失恋した時に聴きたい曲」です。</p>
                    <p>秋といえばセンチメンタル。あなたの甘酸っぱい、あるいはほろ苦い思い出と共に、リクエスト曲を教えてください。</p>
                    <p>匿名希望の方はペンネームを忘れずに。「3年の先輩に振られたA子」さん、元気出してくださいね。</p>
                    <p>リクエストは各校舎昇降口のポスト、またはこのポータルの専用フォームから！</p>
                `,
                tags: ['放送部', 'リクエスト', 'お便り'],
                important: false,
            },
            {
                id: 5,
                date: '20XX.09.28',
                category: '教務',
                title: '2学期中間考査の時間割および試験範囲の変更について（数II・B）',
                summary: '高等部2年の「数学II」の試験範囲に変更があります。詳細は担当教員の掲示板を確認してください。',
                content: `
                    <p>教務課より連絡です。</p>
                    <p>来週より始まる2学期中間考査において、高等部2年C〜F組の「数学II」試験範囲が一部変更となりました。</p>
                    <p>変更前：P.80 〜 P.120<br>変更後：P.80 〜 P.115（ベクトル方程式を除く）</p>
                    <p>なお、試験期間中の図書館自習室は21:00まで開放を延長します。寮生は門限延長申請を忘れずに行ってください。</p>
                `,
                tags: ['試験', '学習', '変更連絡'],
                important: true,
            },
            {
                id: 14,
                date: '20XX.09.26',
                category: '学園長',
                title: '【学園長コラム】中庭の金木犀が咲きました',
                summary: '今年も良い香りが漂う季節になりました。勉強の息抜きに、深呼吸をしてみませんか。',
                content: `
                    <p>生徒の皆さん、ごきげんよう。</p>
                    <p>今朝、学園長室の窓を開けると、ふわりと甘い香りが飛び込んできました。中庭の金木犀（キンモクセイ）が満開を迎えたようです。</p>
                    <p>花言葉は「謙虚」「真実」。</p>
                    <p>広大な知識の海を前にしても、謙虚な姿勢で真実を追い求める。そんな蒼星生であってほしいと願っています。</p>
                    <p>追伸：木に登って枝を折ろうとしていた男子生徒諸君、あとで学園長室に来なさい。お茶とお菓子を用意して待っています。</p>
                `,
                tags: ['コラム', '季節', '説教'],
                important: false,
            },
            {
                id: 6,
                date: '20XX.09.25',
                category: '図書館',
                title: '図書室より：禁帯出図書の延滞者呼び出し',
                summary: '夏休み期間中に貸出した特別図書の返却が確認できていない生徒がいます。該当者は至急カウンターまで来てください。',
                content: `
                    <p>中央図書館より、督促のお知らせです。</p>
                    <p>夏季休業期間中に貸出した「禁帯出（特別許可）」ラベルのある郷土資料について、返却期限を1ヶ月以上過ぎている生徒が数名います。</p>
                    <p>対象者リストを各クラスの図書委員へ配布しました。心当たりのある生徒は、今週中に図書準備室まで直接返却に来ること。</p>
                    <p>これらの資料は絶版となっており、学園の歴史を知る上で非常に貴重なものです。破損・紛失のないようお願いします。</p>
                `,
                tags: ['図書館', '呼び出し', '督促'],
                important: false,
            }
        ];

        // =================================================================
        // ★★★ 部活動紹介データ ★★★
        // =================================================================
        const CLUBS_DATA = [
            {
                id: 'newspaper',
                name: '新聞部',
                icon: 'PenTool',
                iconColor: 'text-yellow-400',
                shortDesc: '学園の真実を暴く！記者求む。',
                部長: 'ミツバチのように忙しい部長',
                content: `
                    <h3 class="text-lg font-bold mb-2 text-slate-800 border-b pb-2 border-slate-200">学園の「今」を切り取るプロ集団</h3>
                    <p class="mb-4">新聞部の名の通り、学生新聞の作成をしている部活です。静寂の中で作業に没頭する部員たちの姿は、学生とは思えないプロ意識を感じさせます。</p>
                    <h4 class="font-bold text-slate-700 mt-4 mb-2">部長からのメッセージ</h4>
                    <div class="bg-slate-50 p-4 rounded-lg border-l-4 border-yellow-400 text-sm text-slate-600 italic">
                        「僕ら新聞部は年中、ミツバチのように忙しいのさ。卒業までのたかが5ヶ月、されど5ヶ月。メンバーは多いに越したことはない」
                    </div>
                    <p class="mt-4 text-sm text-slate-500">※表向きは真面目な勧誘ですが、部長は個人的に「転校生」や特定の生徒に関する噂に並々ならぬ興味を持っているようです。取材と称して根掘り葉掘り聞かれる覚悟が必要かもしれません。</p>
                `
            },
            {
                id: 'deeplightnovel',
                name: 'Dライトノベル部',
                icon: 'Book',
                iconColor: 'text-purple-400',
                shortDesc: '深淵なる物語を共に紡ごう。',
                部長: '保井部長',
                content: `
                    <h3 class="text-lg font-bold mb-2 text-slate-800 border-b pb-2 border-slate-200">忘れ去られた「世界」を愛する場所</h3>
                    <p class="mb-4">正式名称「ディープライトノベル部」。ひと昔前のライトノベル、特に絶版作品や未完のまま筆を折られた作品などを読み、語り合う部活です。</p>
                    <p class="text-sm mb-4">※「書く」のは下の階の『ライトノベル執筆部』、「最近の長いタイトルの作品」は隣の『ライトライトノベル部』と厳密に区分けされています。</p>
                    <h4 class="font-bold text-slate-700 mt-4 mb-2">保井部長の熱弁</h4>
                    <div class="bg-slate-50 p-4 rounded-lg border-l-4 border-purple-400 text-sm text-slate-600 italic">
                        「そもそもライトなノベルなんて存在しないよ！ 描かれた世界の重みは変わらない。<br>
                        本の中には世界が閉じ込められてる。書いた本人すら忘れてしまったかもしれない世界。それを拾い集めて、読んで、いろんな世界を知っていくのがオレは大好きだ！」
                    </div>
                    <p class="mt-4 text-sm text-slate-500">部長は、現実を物語のように彩ってくれる「普通じゃない」人材を歓迎しているようです。</p>
                `
            },
            {
                id: 'astronomy',
                name: '天体観測部',
                icon: 'Telescope',
                iconColor: 'text-blue-400',
                shortDesc: '星空の下で語り合いませんか？',
                部長: 'のんびりした部長',
                content: `
                    <h3 class="text-lg font-bold mb-2 text-slate-800 border-b pb-2 border-slate-200">星空を見上げる、穏やかな時間</h3>
                    <p class="mb-4">星が好きな生徒が集まる、のんびりとした雰囲気の部活です。活動内容は幅広く、ただ星について語り合うだけの時もあれば、本格的な観測を行うこともあります。</p>
                    <ul class="list-disc list-inside mb-4 text-sm bg-slate-100 p-3 rounded">
                        <li><strong>観測部：</strong>星を見に行く旅行やプラネタリウム鑑賞など、外に出ていく活動がメイン（アウトドア派）</li>
                        <li><strong>研究部：</strong>学内で星にまつわる神話の本を読んだり調べ物をするのがメイン（インドア派）</li>
                    </ul>
                    <div class="bg-slate-50 p-4 rounded-lg border-l-4 border-blue-400 text-sm text-slate-600 italic">
                        「一緒に活動することもちょいちょいありつつ、自分のペースで星を楽しめる部活っすね〜！」
                    </div>
                `
            },
            {
                id: 'musical',
                name: 'ミュージカル部',
                icon: 'Music',
                iconColor: 'text-pink-400',
                shortDesc: '歌と踊りで青春を表現しよう！',
                部長: '関西弁の部長',
                content: `
                    <h3 class="text-lg font-bold mb-2 text-slate-800 border-b pb-2 border-slate-200">舞台上で輝くエンターテイメント</h3>
                    <p class="mb-4">歌と踊りと芝居が融合した総合芸術を目指す部活です。</p>
                    <h4 class="font-bold text-slate-700 mt-4 mb-2">部長の説明（原文ママ）</h4>
                    <div class="bg-slate-50 p-4 rounded-lg border-l-4 border-pink-400 text-sm text-slate-600 italic">
                        「ミュージカル部っていうのは、せやなぁ……演劇部とは別、舞台観劇部とも別、途中で歌ったり踊ったりするん挟むんがミュージカル部。ってくらいの、当たり前の説明しか出来ひんねんけど」
                    </div>
                    <p class="mt-4 text-sm text-slate-500">説明は少し適当ですが、舞台への情熱は本物のようです。演劇部とは別団体として活動しています。</p>
                `
            }
        ];

        // ニュースのカテゴリリスト
        const NEWS_CATEGORIES = ['All', '重要', '部活動', '教務', 'イベント', '学食', '図書館', '号外', '購買部', 'オカルト研', '風紀', '放送部', '生物部', '学園長', '落とし物', '園芸部', '演劇部', '噂', '文芸部', '美術部', '化学部'];

        // --- アイコンコンポーネント (Lucide Iconsの簡易版) ---
        const Icon = ({ path, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {path}
            </svg>
        );

        const Icons = {
            Search: (props) => <Icon {...props} path={<><circle cx="11" cy="11" r="8" /><path d="m21 21-4.3-4.3" /></>} />,
            Calendar: (props) => <Icon {...props} path={<><rect width="18" height="18" x="3" y="4" rx="2" ry="2" /><line x1="16" x2="16" y1="2" y2="6" /><line x1="8" x2="8" y1="2" y2="6" /><line x1="3" x2="21" y1="10" y2="10" /></>} />,
            Tag: (props) => <Icon {...props} path={<><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l5 5a2 2 0 0 0 2.828 0l7.172-7.172a2 2 0 0 0 0-2.828l-5-5z" /><circle cx="7.5" cy="7.5" r=".5" fill="currentColor" /></>} />,
            ChevronRight: (props) => <Icon {...props} path={<path d="m9 18 6-6-6-6" />} />,
            X: (props) => <Icon {...props} path={<><path d="M18 6 6 18" /><path d="m6 6 12 12" /></>} />,
            Bell: (props) => <Icon {...props} path={<><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9" /><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0" /></>} />,
            Star: (props) => <Icon {...props} path={<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />} />,
            Filter: (props) => <Icon {...props} path={<polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3" />} />,
            Lock: (props) => <Icon {...props} path={<><rect width="18" height="11" x="3" y="11" rx="2" ry="2" /><path d="M7 11V7a5 5 0 0 1 10 0v4" /></>} />,
            User: (props) => <Icon {...props} path={<><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" /><circle cx="12" cy="7" r="4" /></>} />,
            LogOut: (props) => <Icon {...props} path={<><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" /><polyline points="16 17 21 12 16 7" /><line x1="21" x2="9" y1="12" y2="12" /></>} />,
            FileText: (props) => <Icon {...props} path={<><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" /><polyline points="14 2 14 8 20 8" /></>} />,
            AlertCircle: (props) => <Icon {...props} path={<><circle cx="12" cy="12" r="10" /><line x1="12" x2="12" y1="8" y2="12" /><line x1="12" x2="12.01" y1="16" y2="16" /></>} />,
            Megaphone: (props) => <Icon {...props} path={<><path d="m3 11 18-5v12L3 14v-3z" /><path d="M11.6 16.8a3 3 0 1 1-5.8-1.6" /></>} />,
            PenTool: (props) => <Icon {...props} path={<><path d="m12 19 7-7 3 3-7 7-3-3z" /><path d="m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z" /><path d="m2 2 7.586 7.586" /><circle cx="11" cy="11" r="2" /></>} />,
            Telescope: (props) => <Icon {...props} path={<><path d="m10.065 12.493-6.18 1.318a.934.934 0 0 1-1.108-.702l-.537-2.536a.934.934 0 0 1 .702-1.108l6.18-1.318a.934.934 0 0 1 1.108.702l.537 2.536a.934.934 0 0 1-.702 1.108Z" /><path d="m13.5 18-6-13" /><path d="m15.26 19.355 5.586 1.862a.934.934 0 0 0 1.173-.588l.816-2.449a.934.934 0 0 0-.588-1.173l-5.586-1.862a.934.934 0 0 0-1.173.588l-.816 2.449a.934.934 0 0 0 .588 1.173Z" /><path d="m12.18 6.18 1.87-1.87a2 2 0 1 1 2.83 2.83l-1.87 1.87" /></>} />,
            Music: (props) => <Icon {...props} path={<><path d="M9 18V5l12-2v13" /><circle cx="6" cy="18" r="3" /><circle cx="18" cy="16" r="3" /></>} />,
            Book: (props) => <Icon {...props} path={<><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" /><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" /></>} />,
        };

        // --- メインコンポーネント ---
        const SouseiStudentPortal = () => {
            const [isLoggedIn, setIsLoggedIn] = useState(false);
            const [isLoading, setIsLoading] = useState(false); // Loading state
            const [loginInput, setLoginInput] = useState('');
            const [loginError, setLoginError] = useState('');

            const [selectedCategory, setSelectedCategory] = useState('All');
            const [activeArticle, setActiveArticle] = useState(null);
            const [activeClub, setActiveClub] = useState(null);
            const [searchQuery, setSearchQuery] = useState('');

            // ※ニュースデータは上の NEWS_DATA で定義しています
            const newsData = NEWS_DATA;
            const categories = NEWS_CATEGORIES;

            // ログイン処理
            const handleLogin = (e) => {
                e.preventDefault();

                // ★許可するパスワードのリスト
                const allowedPasswords = ['niki-neki', 'tokiwa-iroha', 'kuga-muku'];

                if (allowedPasswords.includes(loginInput)) {
                    setIsLoading(true); // ローディング開始
                    setLoginError('');

                    // 3秒後にログイン完了
                    setTimeout(() => {
                        setIsLoading(false);
                        setIsLoggedIn(true);
                    }, 3000);
                } else {
                    setLoginError('認証コードが正しくありません。');
                    setLoginInput('');
                }
            };

            const filteredNews = newsData.filter(news => {
                const matchCategory = selectedCategory === 'All' || news.category === selectedCategory;
                const matchSearch = news.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
                    news.summary.toLowerCase().includes(searchQuery.toLowerCase());
                return matchCategory && matchSearch;
            });

            // 部活紹介モーダル
            const ClubModal = ({ club, onClose }) => {
                if (!club) return null;
                const IconComponent = Icons[club.icon] || Icons.Star;
                return (
                    <div className="fixed inset-0 bg-slate-900/80 backdrop-blur-sm z-50 flex items-center justify-center p-4" onClick={onClose}>
                        <div className="bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-lg shadow-2xl animate-fade-in-up" onClick={e => e.stopPropagation()}>
                            <div className="sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center z-10">
                                <div className="flex items-center gap-2">
                                    <div className={`p-2 rounded-full bg-slate-100 ${club.iconColor}`}>
                                        <IconComponent className="w-5 h-5" />
                                    </div>
                                    <span className="font-bold text-lg text-slate-800">{club.name}</span>
                                </div>
                                <button onClick={onClose} className="p-2 hover:bg-slate-100 rounded-full transition-colors">
                                    <Icons.X className="w-5 h-5 text-slate-500" />
                                </button>
                            </div>
                            <div className="p-6">
                                <div dangerouslySetInnerHTML={{ __html: club.content }} className="text-slate-700 leading-relaxed" />
                                <div className="mt-8 text-center">
                                    <button onClick={onClose} className="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg text-sm font-bold transition-colors">
                                        閉じる
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            };

            // 記事詳細モーダル
            const ArticleModal = ({ article, onClose }) => {
                if (!article) return null;
                return (
                    <div className="fixed inset-0 bg-slate-900/80 backdrop-blur-sm z-50 flex items-center justify-center p-4" onClick={onClose}>
                        <div className="bg-white w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-lg shadow-2xl animate-fade-in-up" onClick={e => e.stopPropagation()}>
                            <div className="sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center z-10">
                                <div className="flex items-center gap-2">
                                    <span className={`px-3 py-1 rounded text-xs font-bold ${article.category === '重要' ? 'bg-red-100 text-red-600' : 'bg-blue-100 text-blue-600'}`}>
                                        {article.category}
                                    </span>
                                    <span className="text-xs text-slate-400 border border-slate-200 px-2 py-0.5 rounded">学内限定</span>
                                </div>
                                <button onClick={onClose} className="p-2 hover:bg-slate-100 rounded-full transition-colors">
                                    <Icons.X className="w-5 h-5 text-slate-500" />
                                </button>
                            </div>
                            <div className="p-6 md:p-10">
                                <div className="mb-6">
                                    <p className="text-slate-400 text-sm mb-2">{article.date}</p>
                                    <h2 className="text-2xl md:text-3xl font-serif font-bold text-slate-800 leading-tight mb-4">{article.title}</h2>
                                    <div className="flex flex-wrap gap-2">
                                        {article.tags && article.tags.map((tag, idx) => (
                                            <span key={idx} className="flex items-center text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded">
                                                <Icons.Tag className="w-3 h-3 mr-1" />{tag}
                                            </span>
                                        ))}
                                    </div>
                                </div>
                                <div className="prose prose-slate max-w-none border-t pt-8">
                                    <div dangerouslySetInnerHTML={{ __html: article.content }} className="text-slate-700 leading-relaxed space-y-4" />
                                </div>
                                <div className="mt-12 p-6 bg-yellow-50 rounded-lg border border-yellow-100 flex items-start gap-3">
                                    <Icons.AlertCircle className="w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5" />
                                    <div>
                                        <h4 className="font-bold text-yellow-800 text-sm mb-1">情報の取り扱いについて</h4>
                                        <p className="text-xs text-yellow-700">この記事に含まれる情報は学内専用です。SNS等への転載や外部への漏洩を固く禁じます。</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            };

            // --- ローディング画面 (New) ---
            if (isLoading) {
                return (
                    <div className="min-h-screen bg-slate-900 flex flex-col items-center justify-center relative z-50 overflow-hidden">
                        {/* 粒子エフェクト的な背景 (簡易版) */}
                        <div className="absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-blue-900/20 via-slate-900 to-black"></div>

                        <div className="relative w-40 h-40 flex items-center justify-center">
                            {/* 中央のロゴ */}
                            <div className="absolute inset-0 flex items-center justify-center animate-pulse">
                                {/* emblem.png がない場合のフォールバックも一応考慮してimgタグで配置 */}
                                <img
                                    src="./emblem.png"
                                    alt="Sousei Emblem"
                                    className="w-24 h-24 object-contain opacity-90 drop-shadow-[0_0_15px_rgba(59,130,246,0.5)]"
                                    onError={(e) => {
                                        e.target.style.display = 'none'; // 画像がない場合は非表示（アイコンなどで代用も可）
                                    }}
                                />
                                {/* 画像がない場合用の代替アイコン（画像がロードされたら重なるが、実用上問題なし） */}
                                <Icons.Star className="w-24 h-24 text-blue-500/20 absolute -z-10" />
                            </div>

                            {/* ローディングゲージ（正方形） */}
                            {/* SVGのstroke-dasharrayアニメーションで線を走らせる */}
                            <svg className="absolute top-0 left-0 w-full h-full rotate-[-90deg] drop-shadow-[0_0_10px_rgba(59,130,246,0.8)]">
                                <rect
                                    x="2" y="2" width="156" height="156"
                                    rx="4" ry="4"
                                    className="stroke-blue-500 fill-none stroke-2"
                                    style={{
                                        strokeDasharray: 624, // (156+156)*2 = 624 (全周の長さ)
                                        strokeDashoffset: 624, // 最初は線がない状態（オフセットで隠す）
                                        animation: 'dash 3s linear forwards' // 3秒かけて0にする
                                    }}
                                />
                            </svg>
                        </div>

                        <p className="mt-8 text-blue-400 font-serif tracking-[0.3em] text-xs animate-pulse">CONNECTING TO ARCHIVE...</p>

                        <style>{`
                            @keyframes dash {
                                to { stroke-dashoffset: 0; }
                            }
                        `}</style>
                    </div>
                );
            }

            // --- ログイン画面 ---
            if (!isLoggedIn) {
                return (
                    <div className="min-h-screen bg-slate-900 flex flex-col items-center justify-center p-4 relative overflow-hidden">
                        {/* 背景 */}
                        <div className="absolute inset-0 z-0">
                            <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-blue-900/20 rounded-full blur-3xl"></div>
                            <div className="absolute top-0 w-full h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-slate-800/50 via-slate-900 to-black opacity-80"></div>
                        </div>

                        <div className="relative z-10 w-full max-w-md">
                            <div className="text-center mb-10 animate-fade-in-up">
                                <div className="inline-block p-3 bg-blue-600 rounded-full mb-4 shadow-lg shadow-blue-500/30">
                                    <Icons.Star className="w-8 h-8 text-white fill-current" />
                                </div>
                                <h1 className="text-3xl font-serif font-bold text-white tracking-wider mb-2">蒼星学園</h1>
                                <p className="text-blue-300 text-sm tracking-[0.2em] uppercase">Student Intranet System</p>
                            </div>

                            <div className="bg-white/10 backdrop-blur-md border border-white/10 rounded-xl p-8 shadow-2xl animate-fade-in-up" style={{ animationDelay: '0.1s' }}>
                                <div className="flex items-center gap-2 mb-6 text-slate-300 border-b border-white/10 pb-4">
                                    <Icons.Lock className="w-4 h-4" />
                                    <span className="text-sm font-medium">学生認証</span>
                                </div>

                                <form onSubmit={handleLogin} className="space-y-6">
                                    <div>
                                        <label className="block text-xs font-bold text-slate-400 mb-2 uppercase tracking-wide">
                                            Pass Code
                                        </label>
                                        <input
                                            type="password"
                                            className="w-full bg-slate-950/50 border border-slate-700 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 rounded-lg px-4 py-3 text-white placeholder-slate-600 outline-none transition-all font-mono tracking-widest text-center"
                                            placeholder="••••••••"
                                            value={loginInput}
                                            onChange={(e) => setLoginInput(e.target.value)}
                                            autoFocus
                                        />
                                    </div>

                                    {loginError && (
                                        <div className="flex items-center gap-2 text-red-400 text-xs bg-red-900/20 p-3 rounded border border-red-900/50 animate-shake">
                                            <Icons.AlertCircle className="w-4 h-4" />
                                            {loginError}
                                        </div>
                                    )}

                                    <button
                                        type="submit"
                                        className="w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-lg shadow-lg shadow-blue-900/50 transition-all transform active:scale-95 flex items-center justify-center gap-2"
                                    >
                                        ログイン <Icons.ChevronRight className="w-4 h-4" />
                                    </button>
                                </form>

                                <div className="mt-6 text-center">
                                    <p className="text-[10px] text-slate-500">
                                        ※パスコードを忘れた場合は、生徒手帳の裏面を確認するか、教務課まで申し出てください。<br />
                                        ※不正アクセスは処罰の対象となります。
                                    </p>
                                </div>
                            </div>

                            <div className="mt-8 text-center text-slate-600 text-xs">
                                <p>&copy; Private Sousei Academy Information System.</p>
                            </div>
                        </div>
                    </div>
                );
            }

            // --- ログイン後：メインポータル画面 ---
            return (
                <div className="min-h-screen bg-slate-50 font-sans text-slate-800">
                    {/* Header */}
                    <header className="bg-slate-900 text-white sticky top-0 z-40 shadow-md border-b border-blue-900">
                        <div className="container mx-auto px-4 md:px-6 h-14 flex items-center justify-between">
                            <div className="flex items-center gap-3">
                                <div className="bg-blue-600 p-1 rounded">
                                    <Icons.Star className="text-white w-3 h-3 fill-current" />
                                </div>
                                <h1 className="font-serif font-bold text-base tracking-wider">
                                    蒼星学園 <span className="text-blue-400 font-sans text-xs font-normal ml-1 border-l border-slate-600 pl-2">STUDENT PORTAL</span>
                                </h1>
                            </div>
                            <div className="flex items-center gap-4">
                                <div className="hidden md:flex items-center gap-2 text-xs text-slate-400 bg-slate-800 px-3 py-1 rounded-full">
                                    <Icons.User className="w-3 h-3" />
                                    <span>Sousei Student</span>
                                </div>
                                <button
                                    onClick={() => { setIsLoggedIn(false); setLoginInput(''); }}
                                    className="text-slate-400 hover:text-white transition-colors flex items-center gap-1 text-xs font-bold"
                                >
                                    <Icons.LogOut className="w-4 h-4" />
                                    <span className="hidden sm:inline">ログアウト</span>
                                </button>
                            </div>
                        </div>
                    </header>

                    {/* Info Bar */}
                    <div className="bg-blue-900 text-white text-xs py-2 px-4 overflow-hidden whitespace-nowrap">
                        <div className="container mx-auto flex items-center gap-4">
                            <span className="bg-red-600 px-2 py-0.5 rounded text-[10px] font-bold animate-pulse">重要</span>
                            <span className="inline-block">【教務課】台風接近に伴う来週月曜日の登校判断については、当日朝6時にメール配信および本ポータルにて通知します。</span>
                        </div>
                    </div>

                    {/* Hero Area */}
                    <div className="bg-slate-800 text-white py-8 px-4 relative overflow-hidden">
                        <div className="absolute top-0 right-0 w-64 h-64 bg-blue-600/10 rounded-full blur-3xl -mr-16 -mt-16"></div>
                        <div className="container mx-auto max-w-5xl relative z-10">
                            <div className="flex flex-col md:flex-row gap-8 items-start justify-between">
                                <div className="w-full md:w-1/2">
                                    <h2 className="text-2xl font-serif font-bold mb-2 flex items-center gap-2">
                                        <Icons.FileText className="w-6 h-6 text-blue-400" />
                                        学内連絡板
                                    </h2>
                                    <p className="text-slate-400 text-sm mb-4">
                                        学生寮、部活動、教務課からの連絡事項を確認してください。
                                    </p>

                                    {/* Search Box */}
                                    <div className="relative max-w-md w-full">
                                        <input
                                            type="text"
                                            placeholder="キーワード検索（例：追試、インフルエンザ）"
                                            className="w-full pl-9 pr-4 py-2 rounded bg-slate-700/50 border border-slate-600 focus:border-blue-500 focus:bg-slate-700 text-white placeholder-slate-500 outline-none transition-all text-sm"
                                            value={searchQuery}
                                            onChange={(e) => setSearchQuery(e.target.value)}
                                        />
                                        <Icons.Search className="absolute left-3 top-2.5 w-4 h-4 text-slate-500" />
                                    </div>
                                </div>

                                {/* Club Recruitment (Updated) */}
                                <div className="w-full md:w-1/2 bg-white/5 border border-white/10 rounded-lg p-4">
                                    <h3 className="text-sm font-bold text-blue-300 mb-3 flex items-center gap-2">
                                        <Icons.Megaphone className="w-4 h-4" />
                                        募集中部活動紹介（クリックで詳細）
                                    </h3>
                                    <div className="grid grid-cols-2 gap-2">
                                        {CLUBS_DATA.map(club => {
                                            const IconComponent = Icons[club.icon] || Icons.Star;
                                            return (
                                                <button
                                                    key={club.id}
                                                    onClick={() => setActiveClub(club)}
                                                    className="bg-slate-900/50 p-2 rounded border border-slate-700 hover:border-blue-500 transition-colors text-left w-full group"
                                                >
                                                    <div className="flex items-center gap-2 mb-1">
                                                        <IconComponent className={`w-3 h-3 ${club.iconColor}`} />
                                                        <span className="text-xs font-bold text-white group-hover:text-blue-300 transition-colors">{club.name}</span>
                                                    </div>
                                                    <p className="text-[10px] text-slate-400 line-clamp-1">{club.shortDesc}</p>
                                                </button>
                                            );
                                        })}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Main Content */}
                    <main className="container mx-auto max-w-5xl px-4 py-8 min-h-[500px]">
                        {/* Filters */}
                        <div className="flex items-center gap-2 mb-6 overflow-x-auto pb-2 scrollbar-hide border-b border-slate-200/50">
                            <Icons.Filter className="w-4 h-4 text-slate-400 mr-2 flex-shrink-0" />
                            {categories.map(cat => (
                                <button
                                    key={cat}
                                    onClick={() => setSelectedCategory(cat)}
                                    className={`px-3 py-1.5 rounded text-xs font-bold whitespace-nowrap transition-all ${selectedCategory === cat
                                        ? 'bg-slate-800 text-white'
                                        : 'text-slate-500 hover:bg-slate-100'
                                        }`}
                                >
                                    {cat}
                                </button>
                            ))}
                        </div>

                        {/* News List */}
                        <div className="grid gap-3">
                            {filteredNews.length > 0 ? (
                                filteredNews.map((news) => (
                                    <article
                                        key={news.id}
                                        className={`bg-white rounded border hover:border-blue-300 transition-all cursor-pointer group relative overflow-hidden shadow-sm hover:shadow-md ${news.important ? 'border-l-4 border-l-red-500' : 'border-l-4 border-l-slate-200'}`}
                                        onClick={() => setActiveArticle(news)}
                                    >
                                        <div className="p-4 flex flex-col sm:flex-row gap-4 items-start sm:items-center">
                                            {/* Meta Info */}
                                            <div className="flex items-center gap-3 sm:w-36 flex-shrink-0">
                                                <span className={`px-2 py-0.5 rounded text-[10px] font-bold border ${news.category === '重要' ? 'bg-red-50 text-red-600 border-red-100' : 'bg-slate-50 text-slate-600 border-slate-100'}`}>
                                                    {news.category}
                                                </span>
                                                <span className="text-slate-400 text-xs font-mono">{news.date}</span>
                                            </div>

                                            {/* Content Preview */}
                                            <div className="flex-1 min-w-0">
                                                <h3 className="text-sm sm:text-base font-bold text-slate-800 group-hover:text-blue-700 transition-colors truncate">
                                                    {news.title}
                                                </h3>
                                            </div>

                                            {/* Tags & Action */}
                                            <div className="hidden md:flex items-center gap-2">
                                                {news.tags.slice(0, 2).map(tag => (
                                                    <span key={tag} className="text-[10px] text-slate-400 bg-slate-50 px-1.5 py-0.5 rounded border border-slate-100">#{tag}</span>
                                                ))}
                                                <Icons.ChevronRight className="w-4 h-4 text-slate-300 group-hover:text-blue-500 transition-colors" />
                                            </div>
                                        </div>
                                    </article>
                                ))
                            ) : (
                                <div className="text-center py-16 bg-slate-50 rounded border border-dashed border-slate-300">
                                    <p className="text-slate-500 text-sm">該当する連絡事項はありません。</p>
                                    <button onClick={() => { setSelectedCategory('All'); setSearchQuery(''); }} className="mt-2 text-blue-600 hover:underline text-xs">
                                        全ての表示に戻す
                                    </button>
                                </div>
                            )}
                        </div>
                    </main>

                    {/* Footer */}
                    <footer className="bg-slate-900 text-slate-500 py-6 border-t border-slate-800 text-center text-[10px]">
                        <div className="container mx-auto px-6">
                            <p className="mb-2 text-slate-400">私立蒼星学園 情報管理センター</p>
                            <p>※本システム内の情報を許可なく学外へ公開することを禁じます。</p>
                            <p className="mt-4">&copy; Private Sousei Academy Student Portal System.</p>
                        </div>
                    </footer>

                    {/* Article Detail Modal */}
                    {activeArticle && <ArticleModal article={activeArticle} onClose={() => setActiveArticle(null)} />}

                    {/* Club Detail Modal */}
                    {activeClub && <ClubModal club={activeClub} onClose={() => setActiveClub(null)} />}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<SouseiStudentPortal />);
    </script>
</body>

</html>